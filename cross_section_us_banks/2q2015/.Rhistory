data_set <- data_set[,c("year", "liab_total_deposits","dep_indiv_corp","dep_us_govmt","dep_state_pol","dep_other", "fed_funds_purchased", "demand_notes_other_liab", "sub_notes_deb"  ,"liab_borrowed_funds", "liab_subordinated_notes","liab_other","liab_total" , "net_income", "assets", "equity_capital_total" )]
data_set <- transform(data_set, hhi = (dep_indiv_corp/liab_total)^2+ (dep_us_govmt/liab_total)^2+ (dep_state_pol/liab_total)^2+ (dep_other/liab_total)^2+ (fed_funds_purchased/liab_total)^2+ (demand_notes_other_liab/liab_total)^2+ (sub_notes_deb/liab_total)^2+(liab_other/liab_total)^2, mmf = (liab_borrowed_funds/liab_total_deposits)*100, roa = (net_income/assets)*100, roe = (net_income/equity_capital_total)*100  )
attach(data_set)
par(mfrow=c(3,1))
plot(year, hhi,col = "red", type = "b", cex = 0.5, lty = 2, main = "HHI of Liabilities Through Time", xlab = "Year", ylab = "HHI" )
plot(year, roa,col = "purple", type = "b", cex = 0.5, lty = 2, main = "Return on Assets Through Time", xlab = "Year", ylab = "ROA" )
plot(year, roe,col = "blue", type = "b", cex = 0.5, lty = 2, main = "Return on Equity Through Time", xlab = "Year", ylab = "ROE" )
par(mfrow=c(1,1))
plot(year, roa/mean(roa),col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "ROA, ROE and HHI",sub = "Normilized by Variable Mean", xlab = "Year", ylab = "ROA, ROE and HHI", ylim = c(-0.5,2) )
lines(year, roe/mean(roe),col = "blue", type = "b", cex = 0.5, lty = 2, pch=1, main = "Return on Equity Through Time", xlab = "Year", ylab = "ROE" )
lines(year, hhi/mean(hhi),col = "black", type = "b", cex = 0.5, lty = 2,pch=2, main = "HHI liabilities", xlab = "Year", ylab = "Money Market Funding" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
legend("bottomleft", c("ROA", "ROE", "HHI"), lty = c(2,2,2), col = c("red", "blue", "black"), pch = c(0,1,2), cex = 0.75)
par(mfrow=c(1,1))
plot(hhi, roe, col = "red", cex=.8, main= "ROE vs HHI" )
abline(lm(roe~hhi))
reg_1_roe_hhi <- lm(roe~hhi)
summary(reg_1_roe_hhi)
par(mfrow=c(1,1))
plot(hhi, roa, col = "blue", cex=.8, main= "ROA vs HHI" )
abline(lm(roa~hhi))
reg_1_roa_hhi <- lm(roa~hhi)
summary(reg_1_roa_hhi)
time_trend <- c(50:1)
detach(data_set)
data_set <- transform(data_set, trend = time_trend)
attach(data_set)
reg_2_roe_hhi <- lm(roe~hhi+ trend)
summary(reg_2_roe_hhi)
reg_2_roa_hhi <- lm(roa~hhi+ trend)
summary(reg_2_roa_hhi)
summary(lm(roa~ trend))
reg_2_roa_hhi <- lm(roa~hhi+ trend)
summary(reg_2_roa_hhi)
summary(lm(roa~ trend))
detach(data_set)
rm(list = ls())
data_set <- read.csv("consolidated_historical_com_bank_data_r.csv", header = TRUE)
data_set <- data_set[,c("year", "liab_total_deposits","dep_indiv_corp","dep_us_govmt","dep_state_pol","dep_other", "fed_funds_purchased", "demand_notes_other_liab", "sub_notes_deb"  ,"liab_borrowed_funds", "liab_subordinated_notes","liab_other","liab_total" , "net_income", "assets", "equity_capital_total" )]
data_set <- transform(data_set, hhi = (dep_indiv_corp/liab_total_deposits)^2+ (dep_us_govmt/liab_total_deposits)^2+ (dep_state_pol/liab_total_deposits)^2+ (dep_other/liab_total_deposits)^2, mmf = (liab_borrowed_funds/liab_total_deposits)*100, roa = (net_income/assets)*100, roe = (net_income/equity_capital_total)*100  )
par(mfrow=c(1,1))
plot(hhi, roe, col = "red", cex=.8, main= "ROE vs HHI" )
attach(data_set)
par(mfrow=c(3,1))
plot(year, hhi,col = "red", type = "b", cex = 0.5, lty = 2, main = "HHI of Liabilities Through Time", xlab = "Year", ylab = "HHI" )
plot(year, roa,col = "purple", type = "b", cex = 0.5, lty = 2, main = "Return on Assets Through Time", xlab = "Year", ylab = "ROA" )
plot(year, roe,col = "blue", type = "b", cex = 0.5, lty = 2, main = "Return on Equity Through Time", xlab = "Year", ylab = "ROE" )
par(mfrow=c(1,1))
plot(year, roa/mean(roa),col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "ROA, ROE and HHI",sub = "Normilized by Variable Mean", xlab = "Year", ylab = "ROA, ROE and HHI", ylim = c(-0.5,2) )
lines(year, roe/mean(roe),col = "blue", type = "b", cex = 0.5, lty = 2, pch=1, main = "Return on Equity Through Time", xlab = "Year", ylab = "ROE" )
lines(year, hhi/mean(hhi),col = "black", type = "b", cex = 0.5, lty = 2,pch=2, main = "HHI liabilities", xlab = "Year", ylab = "Money Market Funding" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
legend("bottomleft", c("ROA", "ROE", "HHI"), lty = c(2,2,2), col = c("red", "blue", "black"), pch = c(0,1,2), cex = 0.75)
par(mfrow=c(1,1))
plot(year, roa/mean(roa),col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "ROA, ROE and HHI",sub = "Normilized by Variable Mean", xlab = "Year", ylab = "ROA, ROE and HHI", ylim = c(-0.5,2) )
lines(year, roe/mean(roe),col = "blue", type = "b", cex = 0.5, lty = 2, pch=1, main = "Return on Equity Through Time", xlab = "Year", ylab = "ROE" )
lines(year, hhi/mean(hhi),col = "black", type = "b", cex = 0.5, lty = 2,pch=2, main = "HHI liabilities", xlab = "Year", ylab = "Money Market Funding" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
legend("topleft", c("ROA", "ROE", "HHI"), lty = c(2,2,2), col = c("red", "blue", "black"), pch = c(0,1,2), cex = 0.75)
par(mfrow=c(1,1))
plot(hhi, roe, col = "red", cex=.8, main= "ROE vs HHI" )
abline(lm(roe~hhi))
reg_1_roe_hhi <- lm(roe~hhi)
reg_5_roe_hhi <- lm(roe~hhi)
summary(reg_5_roe_hhi)
par(mfrow=c(1,1))
plot(hhi, roa, col = "blue", cex=.8, main= "ROA vs HHI" )
abline(lm(roa~hhi))
reg_5_roa_hhi <- lm(roa~hhi)
summary(reg_5_roa_hhi)
time_trend <- c(81:1)
detach(data_set)
data_set <- transform(data_set, trend = time_trend)
attach(data_set)
reg_6_roe_hhi <- lm(roe~hhi+ trend)
summary(reg_6_roe_hhi)
reg_6_roa_hhi <- lm(roa~hhi+ trend)
summary(reg_6_roa_hhi)
rm(list = ls())
data_set <- read.csv("consolidated_historical_com_bank_data_r.csv", header = TRUE)
data_set <- data_set[,c("year", "liab_total_deposits", "dep_indiv_corp","dep_us_govmt","dep_state_pol","dep_other" )]
data_set <- transform(data_set,dep_indiv_corp_rat = (dep_indiv_corp/liab_total_deposits)*100, dep_us_govmt_rat = (dep_us_govmt/liab_total_deposits)*100, dep_state_pol_rat = (dep_state_pol/liab_total_deposits)*100, dep_other_rat = (dep_other/liab_total)*100  )
attach(data_set)
par(mfrow = c(1,1))
plot(year, dep_indiv_corp_rat,col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "Deposits by Type",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits", ylim = c(-2,2) )
plot(year, dep_indiv_corp_rat,col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "Deposits by Type",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits")
lines(year, dep_us_govmt_rat,col = "blue", type = "b", cex = 0.5, lty = 2, pch=1, main = "Return on Equity Through Time", xlab = "Year", ylab = "ROE" )
plot(year, dep_indiv_corp_rat,col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "Deposits by Type",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits", ylim = c(0,100))
lines(year, dep_us_govmt_rat,col = "blue", type = "b", cex = 0.5, lty = 2, pch=1, main = "Return on Equity Through Time", xlab = "Year", ylab = "ROE" )
lines(year, dep_state_pol_rat,col = "purple", type = "b", cex = 0.5, lty = 2,pch=3, main = "HHI liabilities", xlab = "Year", ylab = "Money Market Funding" )
lines(year, dep_other_rat,col = "black", type = "b", cex = 0.5, lty = 2,pch=2, main = "HHI liabilities", xlab = "Year", ylab = "Money Market Funding" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
legend("left", c("Indiv&Corp", "FedGovmt", "StateGovmt", "Other"), lty = c(2,2,2,2), col = c("red", "blue", "black", "purple"), pch = c(0,1,2,3), cex = 0.75)
legend("left", c("Indiv&Corp", "FedGovmt", "StateGovmt", "Other"), lty = c(2,2,2,2), col = c("red", "blue", "black", "purple"), pch = c(0,1,2,3), cex = 0.6)
par(mfrow = c(1,1))
plot(year, dep_indiv_corp_rat,col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "Deposits by Type",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits", ylim = c(0,100))
lines(year, dep_us_govmt_rat,col = "blue", type = "b", cex = 0.5, lty = 2, pch=1, main = "Return on Equity Through Time", xlab = "Year", ylab = "ROE" )
lines(year, dep_state_pol_rat,col = "purple", type = "b", cex = 0.5, lty = 2,pch=3, main = "HHI liabilities", xlab = "Year", ylab = "Money Market Funding" )
lines(year, dep_other_rat,col = "black", type = "b", cex = 0.5, lty = 2,pch=2, main = "HHI liabilities", xlab = "Year", ylab = "Money Market Funding" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
legend("left", c("Indiv&Corp", "FedGovmt", "StateGovmt", "Other"), lty = c(2,2,2,2), col = c("red", "blue", "black", "purple"), pch = c(0,1,2,3), cex = 0.6)
detach(data_set)
rm(list = ls())
data_set <- read.csv("consolidated_historical_com_bank_data_r.csv", header = TRUE)
data_set <- data_set[,c("year", "liab_total_deposits", "dep_indiv_corp","dep_us_govmt","dep_state_pol","dep_other" )]
data_set <- transform(data_set,dep_indiv_corp_rat = (dep_indiv_corp/liab_total_deposits)*100, dep_us_govmt_rat = (dep_us_govmt/liab_total_deposits)*100, dep_state_pol_rat = (dep_state_pol/liab_total_deposits)*100, dep_other_rat = (dep_other/liab_total)*100  )
attach(data_set)
par(mfrow = c(2,2))
plot(year, dep_indiv_corp_rat,col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "Deposits Indiv & Corporations",sub = "(% of Total Liabilities)", xlab = "Year", ylab = "Deposits")
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
plot(year, dep_us_govmt_rat,col = "blue", type = "b", cex = 0.5, lty = 2, pch=1, main = "Deposit Fed Gov",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Funds" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
plot(year, dep_notes,col = "black", type = "b", cex = 0.5, lty = 2,pch=2, main = "Deposit State Gov",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Notes" )
plot(year, dep_state_pol_rat,col = "black", type = "b", cex = 0.5, lty = 2,pch=2, main = "Deposit State Gov",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Notes" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
plot(year, dep_other_rat,col = "purple", type = "b", cex = 0.5, lty = 2,pch=3, main = "Other Deposits",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
detach(data_set)
rm(list = ls())
data_set <- read.csv("consolidated_historical_com_bank_data_r.csv", header = TRUE)
data_set <- data_set[,c("year", "liab_total_deposits", "dep_indiv_corp","dep_us_govmt","dep_state_pol","dep_other" )]
data_set <- transform(data_set,dep_indiv_corp_rat = (dep_indiv_corp/liab_total_deposits)*100, dep_us_govmt_rat = (dep_us_govmt/liab_total_deposits)*100, dep_state_pol_rat = (dep_state_pol/liab_total_deposits)*100, dep_other_rat = (dep_other/liab_total)*100  )
attach(data_set)
par(mfrow = c(2,2))
plot(year, dep_indiv_corp_rat,col = "red", type = "b", cex = 0.5, lty = 2,pch = 0 ,main = "Deposits Indiv & Corporations",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits")
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
plot(year, dep_us_govmt_rat,col = "blue", type = "b", cex = 0.5, lty = 2, pch=1, main = "Deposit Fed Gov",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
plot(year, dep_state_pol_rat,col = "black", type = "b", cex = 0.5, lty = 2,pch=2, main = "Deposit State Gov",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
plot(year, dep_other_rat,col = "purple", type = "b", cex = 0.5, lty = 2,pch=3, main = "Other Deposits",sub = "(% of Total Deposits)", xlab = "Year", ylab = "Deposits" )
abline(v=c(2008), lwd=1.5, lty=2, col="gray")
abline(v=c(1973), lwd=1.5, lty=2, col="gray")
abline(v=c(1987), lwd=1.5, lty=2, col="gray")
abline(v=c(1989), lwd=1.5, lty=2, col="gray")
abline(v=c(1998), lwd=1.5, lty=2, col="gray")
detach(data_set)
rm(list = ls())
data_set <- read.csv("consolidated_historical_com_bank_data_r.csv", header = TRUE)
data_set <- data_set[,c("year", "liab_total_deposits", "dep_indiv_corp","dep_us_govmt","dep_state_pol","dep_other" )]
data_set <- transform(data_set,dep_indiv_corp_rat = (dep_indiv_corp/liab_total_deposits)*100, dep_us_govmt_rat = (dep_us_govmt/liab_total_deposits)*100, dep_state_pol_rat = (dep_state_pol/liab_total_deposits)*100, dep_other_rat = (dep_other/liab_total)*100  )
attach(data_set)
a<- dep_indiv_corp_rat+ dep_us_govmt_rat + dep_other_rat + dep_state_pol_rat
plot(a)
qt(.95,118)
qt(.975,118)
qt(.005,118)
qt(.95,57)
qt(.005,57)
qt(.005,59)
library(stats)
qchisq(0.95, 23)
qchisq(0.05, 23)
qchisq(0.95, 23)
library(lattice)
library(stats)
library(tseries)
library(Hmisc)
install.packages("Hmisc")
library(lattice)
library(stats)
library(tseries)
library(Hmisc)
rm(list = ls())
cd
cwd
getwd()
getwd()
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
summary(asset_liab_db)
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
rm(asset_liab_db,income_exp_db)
summary(data_base)
data_base <- data_base[which(data_base$bkclass == "N", data_base$bkclass == "SM", data_base$bkclass == "NM"),]
#Cleaning up
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
data_base[data_base$bkclass == "N",]
summary(data_base[data_base$bkclass = "N",])
summary(data_base[data_base$bkclass == "N",])
summary(data_base)
data_base <- data_base[which(data_base$bkclass == "N"| data_base$bkclass == "SM"| data_base$bkclass == "NM"),]
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
summary(data_base$bkclass)
summary(data_base)
summary(data_base$bkclass.x)
data_base_2 <- data_base[which(data_base$bkclass.x == "N"| data_base$bkclass.x == "SM"| data_base$bkclass.x == "NM"),]
View(data_base_2)
#This script analyzes commercial banking data from 2Q2015 fro the US.
#Want to see if there is a correlation between diversification on the liability side of a banks balance sheet and profitability as measured by ROE and ROA
#Loading some packages
library(lattice)
library(stats)
library(tseries)
library(Hmisc)
#Cleaning up
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
#Dropping observations that are not commercial banks
data_base <- data_base[which(data_base$bkclass.x == "N"| data_base$bkclass.x == "SM"| data_base$bkclass.x == "NM"),]
summary(data_base)
data_base <- transform(data_base, roe =( noij/eqtot), roa =(noij/asset)  )
attach(data_base)
summary(roe)
summary(roa)
total_equity = sum(eqtot)
total_net_income = sum(noij)
aggregate_roe <- total_net_income/total_equity
total_net_income = sum(netinc)
library(lattice)
library(stats)
library(tseries)
library(Hmisc)
#Cleaning up
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
data_base <- transform(data_base, roe =( noij/eqtot), roa =(noij/asset)  )
attach(data_base)
summary(roa)
total_equity = sum(eqtot)
total_net_income = sum(netinc)
#Loading some packages
library(lattice)
library(stats)
library(tseries)
library(Hmisc)
#Cleaning up
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
data_base <- data_base[which(data_base$noij != NA),]
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
data_base <- data_base[which(data_base$noij != "NA"),]
data_base <- transform(data_base, roe =( noij/eqtot), roa =(noij/asset)  )
attach(data_base)
total_equity = sum(eqtot)
total_net_income = sum(netinc)
aggregate_roe <- total_net_income/total_equity
total_net_income
42972156000/1765224315500
(42972156000/1765224315500)*4*100
total_equity = sum(eqtot)
total_net_income = sum(netinc)
aggregate_roe <- total_net_income/total_equity*400
total_equity = sum(eqtot)
total_net_income = sum(noij)
aggregate_roe <- total_net_income/total_equity*400
total_equity
1765224315500/total_equity
1765224315500/total_equity*100
1765224315500/(total_equity*1000)
total_equity = sum(eqtot)
total_net_income = sum(noij)
aggregate_roe <- total_net_income/total_equity*100
aggregate_roe <- total_net_income/total_equity*200
total_equity = sum(eqtot)
total_net_income = sum(netinc)
aggregate_roe <- total_net_income/total_equity*200
total_net_income = sum(nim)
total_equity = sum(eqtot)
total_net_income = sum(nim)
aggregate_roe <- total_net_income/total_equity*200
total_equity = sum(eqtot)
total_net_income = sum(nim)
aggregate_roe <- total_net_income/total_equity*200
total_equity = sum(eqtot)
total_net_income = sum(NETINBM)
aggregate_roe <- total_net_income/total_equity*200
total_equity = average(eqtot)
total_equity = mean(eqtot)
total_net_income = mean(noij)
aggregate_roe <- total_net_income/total_equity
aggregate_roe <- total_net_income/total_equity*400
aggregate_roe <- total_net_income/total_equity*200
total_equity = sum(eq)
total_net_income = sum(noij)
aggregate_roe <- total_net_income/total_equity
aggregate_roe <- total_net_income/total_equity*200
total_equity = sum(eqtot)
total_net_income = sum(net_inc)
aggregate_roe <- total_net_income/total_equity
82804342 - total_net_income
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
data_base <- data_base[which(data_base$noij != "NA" & data_base$mutual.x == "Stock"),]
data_base <- transform(data_base, roe =( noij/eqtot), roa =(noij/asset)  )
attach(data_base)
summary(roa)
total_equity = sum(eqtot)
total_net_income = sum(net_inc)
total_net_income = sum(netinc)
aggregate_roe <- total_net_income/total_equity
aggregate_roe <- total_net_income/total_equity*400
total_equity = sum(eqtot)
total_net_income = sum(netinc)*4
aggregate_roe <- total_net_income/total_equity
aggregate_roe <- total_net_income/total_equity*100
total_net_income = sum(netinc)*2
aggregate_roe <- total_net_income/total_equity*100
total_net_income - 39848340*2
(39848340*400)/total_equity
#Cleaning up
rm(list = ls())
#Setting up the working directory
setwd("~/Research/MMF/cross_section_us_banks/2q2015")
#Reading the data set of assets and liabilities
asset_liab_db <- read.csv("assets_liabilities_2q2015.csv", header = TRUE)
#Summary of the data base
summary(asset_liab_db)
#REading data on income and expenses
income_exp_db <- read.csv("income_expenses_2q2015.csv", header = TRUE)
summary(income_exp_db)
#First thing we are going to do is to merge the databases together using the unique fdic identifier
data_base <- merge(asset_liab_db, income_exp_db,by = "cert")
#Dropping the other data sets
rm(asset_liab_db,income_exp_db)
#Summary of data_base
summary(data_base)
#Dropping observations that are not commercial banks
data_base <- data_base[which(data_base$bkclass.x == "N"| data_base$bkclass.x == "SM"| data_base$bkclass.x == "NM"),]
summary(data_base)
data_base <- transform(data_base, roe =( (noij*200)/eqtot), roa =((noij*200)/asset)  )
attach(data_base)
summary(roe)
summary(roa)
hist(ra)
hist(roe)
hist(roe, breaks = 50)
hist(roe, breaks = 500)
